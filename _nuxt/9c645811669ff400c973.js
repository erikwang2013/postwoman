(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{921:function(e,t,o){"use strict";o.r(t);o(98),o(23),o(26),o(12),o(45),o(31),o(46),o(9),o(6),o(22);var r=o(16),n=o(241),l={data:function(){return{fb:n.a}},props:{show:Boolean},components:{modal:function(){return o.e(0).then(o.bind(null,928))}},computed:{collectionJson:function(){return JSON.stringify(this.$store.state.postwoman.collections,null,2)}},methods:{hideModal:function(){this.$emit("hide-modal")},openDialogChooseFileToReplaceWith:function(){this.$refs.inputChooseFileToReplaceWith.click()},openDialogChooseFileToImportFrom:function(){this.$refs.inputChooseFileToImportFrom.click()},replaceWithJSON:function(){var e=this,t=new FileReader;t.onload=function(t){var content=t.target.result,o=JSON.parse(content);if(o[0]){var n=Object.keys(o[0]),l=Object(r.a)(n,3);l[0],l[1],l[2]}else{if(!o.info||!o.info.schema.includes("v2.1.0"))return e.failedImport();o=e.parsePostmanCollection(o)}e.$store.commit("postwoman/importCollections",o),e.fileImported()},t.readAsText(this.$refs.inputChooseFileToReplaceWith.files[0])},importFromJSON:function(){var e=this,t=new FileReader;t.onload=function(t){var content=t.target.result,o=JSON.parse(content);if(o[0]){var n=Object.keys(o[0]),l=Object(r.a)(n,3);l[0],l[1],l[2]}else{if(!o.info||!o.info.schema.includes("v2.1.0"))return e.failedImport();o=e.parsePostmanCollection(o)}e.$store.commit("postwoman/importCollections",o),e.fileImported()},t.readAsText(this.$refs.inputChooseFileToImportFrom.files[0])},exportJSON:function(){var text=this.collectionJson;text=text.replace(/\n/g,"\r\n");var e=new Blob([text],{type:"text/json"}),t=document.createElement("a");t.download="postwoman-collection.json",t.href=window.URL.createObjectURL(e),t.target="_blank",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t),this.$toast.success(this.$t("download_started"),{icon:"done"})},syncCollections:function(){this.$store.commit("postwoman/replaceCollections",n.a.currentCollections),this.fileImported()},fileImported:function(){this.$toast.info(this.$t("file_imported"),{icon:"folder_shared"})},failedImport:function(){this.$toast.error(this.$t("import_failed"),{icon:"error"})},parsePostmanCollection:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=t?[{name:"",folders:[],requests:[]}]:{name:"",requests:[]},r=!0,n=!1,l=void 0;try{for(var c,d=e.item[Symbol.iterator]();!(r=(c=d.next()).done);r=!0){var m=c.value;m.request?o[0]?(o[0].name=e.info?e.info.name:"",o[0].requests.push(this.parsePostmanRequest(m))):(o.name=e.name?e.name:"",o.requests.push(this.parsePostmanRequest(m))):m.item&&m.item[0]&&o[0].folders.push(this.parsePostmanCollection(m,!1))}}catch(e){n=!0,l=e}finally{try{r||null==d.return||d.return()}finally{if(n)throw l}}return o},parsePostmanRequest:function(e){var t={url:"",path:"",method:"",auth:"",httpUser:"",httpPassword:"",passwordFieldType:"password",bearerToken:"",headers:[],params:[],bodyParams:[],rawParams:"",rawInput:!1,contentType:"",requestType:"",name:""};t.name=e.name;var o=e.request.url.raw.match(/^(.+:\/\/[^\/]+|{[^\/]+})(\/[^\?]+|).*$/);t.url=o[1],t.path=o[2]?o[2]:"",t.method=e.request.method;var r=e.request.auth?e.request.auth:"",n=r?r.type:"";"basic"===n?(t.auth="Basic Auth",t.httpUser="username"===r.basic[0].key?r.basic[0].value:r.basic[1].value,t.httpPassword="password"===r.basic[0].key?r.basic[0].value:r.basic[1].value):"oauth2"===n?(t.auth="OAuth 2.0",t.bearerToken="accessToken"===r.oauth2[0].key?r.oauth2[0].value:r.oauth2[1].value):"bearer"===n&&(t.auth="Bearer Token",t.bearerToken=r.bearer[0].value);var l=e.request.header;if(l){t.headers=l;var c=!0,d=!1,m=void 0;try{for(var h,v=t.headers[Symbol.iterator]();!(c=(h=v.next()).done);c=!0){var header=h.value;delete header.name,delete header.type}}catch(e){d=!0,m=e}finally{try{c||null==v.return||v.return()}finally{if(d)throw m}}}var f=e.request.url.query;if(f){t.params=f;var y=!0,_=!1,w=void 0;try{for(var C,$=t.params[Symbol.iterator]();!(y=(C=$.next()).done);y=!0){delete C.value.disabled}}catch(e){_=!0,w=e}finally{try{y||null==$.return||$.return()}finally{if(_)throw w}}}if(e.request.body)if("urlencoded"===e.request.body.mode){var k=e.request.body.urlencoded;t.bodyParams=k||[];var x=!0,F=!1,T=void 0;try{for(var J,O=t.bodyParams[Symbol.iterator]();!(x=(J=O.next()).done);x=!0){delete J.value.type}}catch(e){F=!0,T=e}finally{try{x||null==O.return||O.return()}finally{if(F)throw T}}}else"raw"===e.request.body.mode&&(t.rawInput=!0,t.rawParams=e.request.body.raw);return t}}},c=o(37),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.show?o("modal",{on:{close:e.hideModal}},[o("div",{attrs:{slot:"header"},slot:"header"},[o("ul",[o("li",[o("div",{staticClass:"flex-wrap"},[o("h3",{staticClass:"title"},[e._v(e._s(e.$t("import_export"))+" "+e._s(e.$t("collections")))]),e._v(" "),o("div",[o("button",{staticClass:"icon",on:{click:e.hideModal}},[o("i",{staticClass:"material-icons"},[e._v("close")])])])]),e._v(" "),o("div",{staticClass:"flex-wrap"},[o("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.fb.currentUser?e.$t("replace_current"):e.$t("login_first")},expression:"{\n              content: !fb.currentUser ? $t('login_first') : $t('replace_current'),\n            }"}]},[o("button",{staticClass:"icon",attrs:{disabled:!e.fb.currentUser},on:{click:e.syncCollections}},[o("i",{staticClass:"material-icons"},[e._v("folder_shared")]),e._v(" "),o("span",[e._v(e._s(e.$t("import_from_sync")))])])]),e._v(" "),o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("replace_current"),expression:"$t('replace_current')"}],staticClass:"icon",on:{click:e.openDialogChooseFileToReplaceWith}},[o("i",{staticClass:"material-icons"},[e._v("create_new_folder")]),e._v(" "),o("span",[e._v(e._s(e.$t("replace_json")))]),e._v(" "),o("input",{ref:"inputChooseFileToReplaceWith",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/json"},on:{change:e.replaceWithJSON}})]),e._v(" "),o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("preserve_current"),expression:"$t('preserve_current')"}],staticClass:"icon",on:{click:e.openDialogChooseFileToImportFrom}},[o("i",{staticClass:"material-icons"},[e._v("folder_special")]),e._v(" "),o("span",[e._v(e._s(e.$t("import_json")))]),e._v(" "),o("input",{ref:"inputChooseFileToImportFrom",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/json"},on:{change:e.importFromJSON}})])])])])]),e._v(" "),o("div",{attrs:{slot:"body"},slot:"body"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.collectionJson,expression:"collectionJson"}],attrs:{rows:"8"},domProps:{value:e.collectionJson},on:{input:function(t){t.target.composing||(e.collectionJson=t.target.value)}}})]),e._v(" "),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("div",{staticClass:"flex-wrap"},[o("span"),e._v(" "),o("span",[o("button",{staticClass:"icon",on:{click:e.hideModal}},[e._v("\n          "+e._s(e.$t("cancel"))+"\n        ")]),e._v(" "),o("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.$t("download_file"),expression:"$t('download_file')"}],staticClass:"icon primary",on:{click:e.exportJSON}},[e._v("\n          "+e._s(e.$t("export"))+"\n        ")])])])])]):e._e()}),[],!1,null,null,null);t.default=component.exports}}]);